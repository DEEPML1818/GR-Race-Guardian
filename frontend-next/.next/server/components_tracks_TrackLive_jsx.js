"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_tracks_TrackLive_jsx";
exports.ids = ["components_tracks_TrackLive_jsx"];
exports.modules = {

/***/ "./components/tracks/TrackLive.jsx":
/*!*****************************************!*\
  !*** ./components/tracks/TrackLive.jsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TrackLive)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useSocket */ \"./hooks/useSocket.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useSocket__WEBPACK_IMPORTED_MODULE_2__]);\n_hooks_useSocket__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction TrackLive({ trackId = \"barber\", raceId = null }) {\n    const { latestUpdate, updates, isConnected } = (0,_hooks_useSocket__WEBPACK_IMPORTED_MODULE_2__.useSocket)(raceId, process.env.NEXT_PUBLIC_TELEMETRY_URL || \"http://localhost:3001\");\n    const [coords, setCoords] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cars, setCars] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const trailsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const rafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Load track coordinates from public JSON\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        fetch(\"/track_coords.json\").then((r)=>r.json()).then((data)=>{\n            if (!mounted) return;\n            if (data && data[trackId]) setCoords(data[trackId].coordinates || []);\n        }).catch(()=>{\n            setCoords([]);\n        });\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        trackId\n    ]);\n    // Try to load an SVG for the track (exported from PDF) at /tracks/{trackId}.svg\n    const [svgPathData, setSvgPathData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        const svgUrl = `/tracks/${trackId}.svg`;\n        fetch(svgUrl).then(async (r)=>{\n            if (!r.ok) throw new Error(\"no svg\");\n            const text = await r.text();\n            if (!mounted) return;\n            try {\n                const doc = new DOMParser().parseFromString(text, \"image/svg+xml\");\n                const pathEl = doc.querySelector(\"path\");\n                if (pathEl && pathEl.getAttribute(\"d\")) {\n                    setSvgPathData(pathEl.getAttribute(\"d\"));\n                    return;\n                }\n                const svgEl = doc.querySelector(\"svg\");\n                if (svgEl) setSvgPathData(svgEl.innerHTML);\n            } catch (e) {\n            // ignore parse errors\n            }\n        }).catch(()=>{\n        // svg not present — fine, we'll use coords fallback\n        });\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        trackId\n    ]);\n    // Accept updates from useSocket (may vary in shape)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // prefer latestUpdate.cars or last element of updates\n        let incoming = null;\n        if (latestUpdate && latestUpdate.cars) incoming = latestUpdate.cars;\n        else if (updates && updates.length) {\n            const last = updates[updates.length - 1];\n            if (last && last.cars) incoming = last.cars;\n            else incoming = last;\n        }\n        if (Array.isArray(incoming)) {\n            // normalize fields we expect: id, name, progress (0..1), lap, speed, gap\n            const normalized = incoming.map((c)=>({\n                    id: c.id || c.vehicle_id || c.vehicle_number || c.vehicleNumber || String(Math.random()),\n                    name: c.name || c.vehicle_number || c.vehicleId || c.id || \"Car\",\n                    progress: typeof c.progress === \"number\" ? c.progress : c.lap_progress || c.progress_pct || 0,\n                    lap: c.lap || c.lap_number || 1,\n                    speed: c.speed || c.kph || c.kmh || 0,\n                    gap: c.gap || 0\n                }));\n            setCars(normalized);\n        }\n    }, [\n        latestUpdate,\n        updates\n    ]);\n    // Build path (polyline) scaled to viewBox\n    const pathPoints = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!coords || coords.length === 0) return null;\n        const pad = 40;\n        const vw = 1000, vh = 1000;\n        const sx = vw - pad * 2;\n        const sy = vh - pad * 2;\n        return coords.map((p)=>({\n                x: pad + p.x * sx,\n                y: pad + p.y * sy\n            }));\n    }, [\n        coords\n    ]);\n    // compute cumulative lengths for param mapping\n    const pathSamples = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        // If an SVG path was loaded, sample it for accurate arclength mapping\n        if (svgPathData && typeof document !== \"undefined\") {\n            try {\n                const ns = \"http://www.w3.org/2000/svg\";\n                const tmpPath = document.createElementNS(ns, \"path\");\n                tmpPath.setAttribute(\"d\", svgPathData);\n                const totalLen = tmpPath.getTotalLength();\n                const samples = [];\n                const sampleCount = Math.max(200, Math.floor(totalLen / 5));\n                let cum = 0;\n                let prev = tmpPath.getPointAtLength(0);\n                samples.push({\n                    x: prev.x,\n                    y: prev.y,\n                    lenCum: 0,\n                    seg: 0\n                });\n                for(let i = 1; i <= sampleCount; i++){\n                    const pos = tmpPath.getPointAtLength(i / sampleCount * totalLen);\n                    const dx = pos.x - prev.x, dy = pos.y - prev.y;\n                    const seg = Math.hypot(dx, dy);\n                    cum += seg;\n                    samples.push({\n                        x: pos.x,\n                        y: pos.y,\n                        lenCum: cum,\n                        seg\n                    });\n                    prev = pos;\n                }\n                return {\n                    samples,\n                    length: cum,\n                    points: samples.map((s)=>({\n                            x: s.x,\n                            y: s.y\n                        }))\n                };\n            } catch (e) {\n            // fall through to coords fallback\n            }\n        }\n        if (!pathPoints) return null;\n        const pts = pathPoints;\n        const samples = [];\n        let total = 0;\n        for(let i = 0; i < pts.length; i++){\n            const a = pts[i];\n            const b = pts[(i + 1) % pts.length];\n            const dx = b.x - a.x, dy = b.y - a.y;\n            const seg = Math.hypot(dx, dy);\n            samples.push({\n                x: a.x,\n                y: a.y,\n                seg,\n                lenCum: total\n            });\n            total += seg;\n        }\n        return {\n            samples,\n            length: total,\n            points: pts\n        };\n    }, [\n        pathPoints,\n        svgPathData\n    ]);\n    function posOnPath(progress) {\n        if (!pathSamples) return {\n            x: 500,\n            y: 500\n        };\n        // Normalize progress to 0..1\n        const p = (progress % 1 + 1) % 1;\n        const totalLen = pathSamples.length || 1;\n        const targetLen = p * totalLen;\n        const samples = pathSamples.samples;\n        // Binary search for segment\n        let lo = 0, hi = samples.length - 1;\n        while(lo < hi){\n            const mid = Math.floor((lo + hi) / 2);\n            if (samples[mid].lenCum < targetLen) lo = mid + 1;\n            else hi = mid;\n        }\n        const i = Math.max(0, lo - 1);\n        const s = samples[i];\n        const next = samples[(i + 1) % samples.length];\n        const segLen = next.lenCum - s.lenCum || next.seg || 1;\n        const t = Math.max(0, Math.min(1, (targetLen - s.lenCum) / segLen));\n        const x = s.x + (next.x - s.x) * t;\n        const y = s.y + (next.y - s.y) * t;\n        return {\n            x,\n            y\n        };\n    }\n    // Maintain trails and animate (simple SVG-based trails)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cars) return;\n        // update trailsRef with latest car positions\n        cars.forEach((c)=>{\n            const pos = posOnPath(c.progress || 0);\n            if (!trailsRef.current[c.id]) trailsRef.current[c.id] = [];\n            trailsRef.current[c.id].push(pos);\n            if (trailsRef.current[c.id].length > 40) trailsRef.current[c.id].shift();\n        });\n    }, [\n        cars\n    ]);\n    // Trigger re-render with RAF to get smooth trail fading\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        function tick() {\n            if (!mounted) return;\n            // decay trails alpha by shifting — handled in render via length\n            rafRef.current = requestAnimationFrame(tick);\n        }\n        rafRef.current = requestAnimationFrame(tick);\n        return ()=>{\n            mounted = false;\n            cancelAnimationFrame(rafRef.current);\n        };\n    }, []);\n    // Build SVG path string from points\n    function buildSvgPath() {\n        if (!pathPoints || pathPoints.length === 0) return \"\";\n        const pts = pathPoints;\n        let d = `M ${pts[0].x} ${pts[0].y}`;\n        for(let i = 1; i < pts.length; i++)d += ` L ${pts[i].x} ${pts[i].y}`;\n        d += \" Z\";\n        return d;\n    }\n    const svgPath = buildSvgPath();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            width: \"100%\",\n            height: \"500px\",\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                viewBox: \"0 0 1000 1000\",\n                preserveAspectRatio: \"xMidYMid meet\",\n                style: {\n                    width: \"100%\",\n                    height: \"100%\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: svgPath,\n                        fill: \"#2a2a2a\",\n                        stroke: \"#444\",\n                        strokeWidth: \"60\",\n                        opacity: \"0.3\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 193,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: svgPath,\n                        fill: \"none\",\n                        stroke: \"#666\",\n                        strokeWidth: \"30\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: svgPath,\n                        fill: \"none\",\n                        stroke: \"#888\",\n                        strokeWidth: \"25\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 195,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: svgPath,\n                        fill: \"none\",\n                        stroke: \"#fff\",\n                        strokeWidth: \"3\",\n                        strokeDasharray: \"15,10\",\n                        opacity: \"0.6\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 196,\n                        columnNumber: 9\n                    }, this),\n                    Object.keys(trailsRef.current).map((id)=>{\n                        const trail = trailsRef.current[id] || [];\n                        if (trail.length < 2) return null;\n                        const d = trail.map((p, i)=>`${i === 0 ? \"M\" : \"L\"} ${p.x} ${p.y}`).join(\" \");\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: d,\n                            fill: \"none\",\n                            stroke: \"#ffd54d\",\n                            strokeWidth: 2,\n                            strokeOpacity: 0.6,\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\"\n                        }, `t-${id}`, false, {\n                            fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                            lineNumber: 203,\n                            columnNumber: 18\n                        }, this);\n                    }),\n                    cars.map((c)=>{\n                        const p = posOnPath(c.progress || 0);\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                    cx: p.x,\n                                    cy: p.y,\n                                    r: 8,\n                                    fill: \"#ffd54d\",\n                                    stroke: \"#222\",\n                                    strokeWidth: 1\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                                    lineNumber: 211,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                    x: p.x + 12,\n                                    y: p.y + 4,\n                                    fill: \"#fff\",\n                                    fontSize: 12,\n                                    fontWeight: \"bold\",\n                                    children: c.name\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                                    lineNumber: 212,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, c.id, true, {\n                            fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                            lineNumber: 210,\n                            columnNumber: 13\n                        }, this);\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                lineNumber: 191,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    right: 12,\n                    top: 12,\n                    width: 280,\n                    background: \"rgba(0,0,0,0.6)\",\n                    color: \"#fff\",\n                    padding: 10,\n                    borderRadius: 6\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontWeight: \"bold\",\n                            marginBottom: 6\n                        },\n                        children: [\n                            trackId.toUpperCase(),\n                            \" — Live\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 219,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: 13,\n                            opacity: 0.9\n                        },\n                        children: [\n                            \"WS: \",\n                            isConnected ? \"connected\" : \"disconnected\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 220,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: 8\n                        },\n                        children: cars.slice(0, 8).map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"6px 0\",\n                                    borderBottom: \"1px solid rgba(255,255,255,0.04)\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: \"600\"\n                                        },\n                                        children: c.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                                        lineNumber: 224,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: 12,\n                                            color: \"#ddd\"\n                                        },\n                                        children: [\n                                            \"Lap \",\n                                            c.lap,\n                                            \" • \",\n                                            c.speed,\n                                            \" km/h • gap \",\n                                            c.gap,\n                                            \"s\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                                        lineNumber: 225,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, c.id, true, {\n                                fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                                lineNumber: 223,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n                lineNumber: 218,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\SR\\\\Desktop\\\\Working folder with race tracks and timing\\\\gr-race-guardian\\\\frontend-next\\\\components\\\\tracks\\\\TrackLive.jsx\",\n        lineNumber: 190,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxFQUFFUSxJQUFJOzs7Ozs7a0RBQzFDLDhEQUFDbUU7d0NBQUlDLE9BQU87NENBQUV3QixVQUFVOzRDQUFJSyxPQUFPO3dDQUFPOzs0Q0FBRzs0Q0FBS3pHLEVBQUVhLEdBQUc7NENBQUM7NENBQUliLEVBQUVlLEtBQUs7NENBQUM7NENBQWFmLEVBQUVrQixHQUFHOzRDQUFDOzs7Ozs7OzsrQkFGL0VsQixFQUFFQyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3ItcmFjZS1ndWFyZGlhbi1mcm9udGVuZC8uL2NvbXBvbmVudHMvdHJhY2tzL1RyYWNrTGl2ZS5qc3g/M2M4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlU29ja2V0IH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlU29ja2V0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRyYWNrTGl2ZSh7IHRyYWNrSWQgPSAnYmFyYmVyJywgcmFjZUlkID0gbnVsbCB9KSB7XHJcbiAgY29uc3QgeyBsYXRlc3RVcGRhdGUsIHVwZGF0ZXMsIGlzQ29ubmVjdGVkIH0gPSB1c2VTb2NrZXQocmFjZUlkLCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19URUxFTUVUUllfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnKTtcclxuICBjb25zdCBbY29vcmRzLCBzZXRDb29yZHNdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2NhcnMsIHNldENhcnNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IHRyYWlsc1JlZiA9IHVzZVJlZih7fSk7XHJcbiAgY29uc3QgcmFmUmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICAvLyBMb2FkIHRyYWNrIGNvb3JkaW5hdGVzIGZyb20gcHVibGljIEpTT05cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xyXG4gICAgZmV0Y2goJy90cmFja19jb29yZHMuanNvbicpLnRoZW4ociA9PiByLmpzb24oKSkudGhlbihkYXRhID0+IHtcclxuICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGFbdHJhY2tJZF0pIHNldENvb3JkcyhkYXRhW3RyYWNrSWRdLmNvb3JkaW5hdGVzIHx8IFtdKTtcclxuICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgc2V0Q29vcmRzKFtdKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyB9O1xyXG4gIH0sIFt0cmFja0lkXSk7XHJcblxyXG4gIC8vIFRyeSB0byBsb2FkIGFuIFNWRyBmb3IgdGhlIHRyYWNrIChleHBvcnRlZCBmcm9tIFBERikgYXQgL3RyYWNrcy97dHJhY2tJZH0uc3ZnXHJcbiAgY29uc3QgW3N2Z1BhdGhEYXRhLCBzZXRTdmdQYXRoRGF0YV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcclxuICAgIGNvbnN0IHN2Z1VybCA9IGAvdHJhY2tzLyR7dHJhY2tJZH0uc3ZnYDtcclxuICAgIGZldGNoKHN2Z1VybCkudGhlbihhc3luYyByID0+IHtcclxuICAgICAgaWYgKCFyLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ25vIHN2ZycpO1xyXG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgci50ZXh0KCk7XHJcbiAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ2ltYWdlL3N2Zyt4bWwnKTtcclxuICAgICAgICBjb25zdCBwYXRoRWwgPSBkb2MucXVlcnlTZWxlY3RvcigncGF0aCcpO1xyXG4gICAgICAgIGlmIChwYXRoRWwgJiYgcGF0aEVsLmdldEF0dHJpYnV0ZSgnZCcpKSB7XHJcbiAgICAgICAgICBzZXRTdmdQYXRoRGF0YShwYXRoRWwuZ2V0QXR0cmlidXRlKCdkJykpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdmdFbCA9IGRvYy5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcclxuICAgICAgICBpZiAoc3ZnRWwpIHNldFN2Z1BhdGhEYXRhKHN2Z0VsLmlubmVySFRNTCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBpZ25vcmUgcGFyc2UgZXJyb3JzXHJcbiAgICAgIH1cclxuICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgLy8gc3ZnIG5vdCBwcmVzZW50IOKAlCBmaW5lLCB3ZSdsbCB1c2UgY29vcmRzIGZhbGxiYWNrXHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgfTtcclxuICB9LCBbdHJhY2tJZF0pO1xyXG5cclxuICAvLyBBY2NlcHQgdXBkYXRlcyBmcm9tIHVzZVNvY2tldCAobWF5IHZhcnkgaW4gc2hhcGUpXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIHByZWZlciBsYXRlc3RVcGRhdGUuY2FycyBvciBsYXN0IGVsZW1lbnQgb2YgdXBkYXRlc1xyXG4gICAgbGV0IGluY29taW5nID0gbnVsbDtcclxuICAgIGlmIChsYXRlc3RVcGRhdGUgJiYgbGF0ZXN0VXBkYXRlLmNhcnMpIGluY29taW5nID0gbGF0ZXN0VXBkYXRlLmNhcnM7XHJcbiAgICBlbHNlIGlmICh1cGRhdGVzICYmIHVwZGF0ZXMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IGxhc3QgPSB1cGRhdGVzW3VwZGF0ZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgIGlmIChsYXN0ICYmIGxhc3QuY2FycykgaW5jb21pbmcgPSBsYXN0LmNhcnM7XHJcbiAgICAgIGVsc2UgaW5jb21pbmcgPSBsYXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGluY29taW5nKSkge1xyXG4gICAgICAvLyBub3JtYWxpemUgZmllbGRzIHdlIGV4cGVjdDogaWQsIG5hbWUsIHByb2dyZXNzICgwLi4xKSwgbGFwLCBzcGVlZCwgZ2FwXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBpbmNvbWluZy5tYXAoYyA9PiAoe1xyXG4gICAgICAgIGlkOiBjLmlkIHx8IGMudmVoaWNsZV9pZCB8fCBjLnZlaGljbGVfbnVtYmVyIHx8IGMudmVoaWNsZU51bWJlciB8fCBTdHJpbmcoTWF0aC5yYW5kb20oKSksXHJcbiAgICAgICAgbmFtZTogYy5uYW1lIHx8IGMudmVoaWNsZV9udW1iZXIgfHwgYy52ZWhpY2xlSWQgfHwgYy5pZCB8fCAnQ2FyJyxcclxuICAgICAgICBwcm9ncmVzczogdHlwZW9mIGMucHJvZ3Jlc3MgPT09ICdudW1iZXInID8gYy5wcm9ncmVzcyA6IChjLmxhcF9wcm9ncmVzcyB8fCBjLnByb2dyZXNzX3BjdCB8fCAwKSxcclxuICAgICAgICBsYXA6IGMubGFwIHx8IGMubGFwX251bWJlciB8fCAxLFxyXG4gICAgICAgIHNwZWVkOiBjLnNwZWVkIHx8IGMua3BoIHx8IGMua21oIHx8IDAsXHJcbiAgICAgICAgZ2FwOiBjLmdhcCB8fCAwXHJcbiAgICAgIH0pKTtcclxuICAgICAgc2V0Q2Fycyhub3JtYWxpemVkKTtcclxuICAgIH1cclxuICB9LCBbbGF0ZXN0VXBkYXRlLCB1cGRhdGVzXSk7XHJcblxyXG4gIC8vIEJ1aWxkIHBhdGggKHBvbHlsaW5lKSBzY2FsZWQgdG8gdmlld0JveFxyXG4gIGNvbnN0IHBhdGhQb2ludHMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICghY29vcmRzIHx8IGNvb3Jkcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgcGFkID0gNDA7XHJcbiAgICBjb25zdCB2dyA9IDEwMDAsIHZoID0gMTAwMDtcclxuICAgIGNvbnN0IHN4ID0gKHZ3IC0gcGFkICogMik7XHJcbiAgICBjb25zdCBzeSA9ICh2aCAtIHBhZCAqIDIpO1xyXG4gICAgcmV0dXJuIGNvb3Jkcy5tYXAocCA9PiAoeyB4OiBwYWQgKyBwLnggKiBzeCwgeTogcGFkICsgcC55ICogc3kgfSkpO1xyXG4gIH0sIFtjb29yZHNdKTtcclxuXHJcbiAgLy8gY29tcHV0ZSBjdW11bGF0aXZlIGxlbmd0aHMgZm9yIHBhcmFtIG1hcHBpbmdcclxuICBjb25zdCBwYXRoU2FtcGxlcyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgLy8gSWYgYW4gU1ZHIHBhdGggd2FzIGxvYWRlZCwgc2FtcGxlIGl0IGZvciBhY2N1cmF0ZSBhcmNsZW5ndGggbWFwcGluZ1xyXG4gICAgaWYgKHN2Z1BhdGhEYXRhICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbiAgICAgICAgY29uc3QgdG1wUGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgJ3BhdGgnKTtcclxuICAgICAgICB0bXBQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHN2Z1BhdGhEYXRhKTtcclxuICAgICAgICBjb25zdCB0b3RhbExlbiA9IHRtcFBhdGguZ2V0VG90YWxMZW5ndGgoKTtcclxuICAgICAgICBjb25zdCBzYW1wbGVzID0gW107XHJcbiAgICAgICAgY29uc3Qgc2FtcGxlQ291bnQgPSBNYXRoLm1heCgyMDAsIE1hdGguZmxvb3IodG90YWxMZW4gLyA1KSk7XHJcbiAgICAgICAgbGV0IGN1bSA9IDA7XHJcbiAgICAgICAgbGV0IHByZXYgPSB0bXBQYXRoLmdldFBvaW50QXRMZW5ndGgoMCk7XHJcbiAgICAgICAgc2FtcGxlcy5wdXNoKHsgeDogcHJldi54LCB5OiBwcmV2LnksIGxlbkN1bTogMCwgc2VnOiAwIH0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHNhbXBsZUNvdW50OyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IHBvcyA9IHRtcFBhdGguZ2V0UG9pbnRBdExlbmd0aCgoaSAvIHNhbXBsZUNvdW50KSAqIHRvdGFsTGVuKTtcclxuICAgICAgICAgIGNvbnN0IGR4ID0gcG9zLnggLSBwcmV2LngsIGR5ID0gcG9zLnkgLSBwcmV2Lnk7XHJcbiAgICAgICAgICBjb25zdCBzZWcgPSBNYXRoLmh5cG90KGR4LCBkeSk7XHJcbiAgICAgICAgICBjdW0gKz0gc2VnO1xyXG4gICAgICAgICAgc2FtcGxlcy5wdXNoKHsgeDogcG9zLngsIHk6IHBvcy55LCBsZW5DdW06IGN1bSwgc2VnIH0pO1xyXG4gICAgICAgICAgcHJldiA9IHBvcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgc2FtcGxlcywgbGVuZ3RoOiBjdW0sIHBvaW50czogc2FtcGxlcy5tYXAocyA9PiAoeyB4OiBzLngsIHk6IHMueSB9KSkgfTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaCB0byBjb29yZHMgZmFsbGJhY2tcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGF0aFBvaW50cykgcmV0dXJuIG51bGw7XHJcbiAgICBjb25zdCBwdHMgPSBwYXRoUG9pbnRzO1xyXG4gICAgY29uc3Qgc2FtcGxlcyA9IFtdO1xyXG4gICAgbGV0IHRvdGFsID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGEgPSBwdHNbaV07XHJcbiAgICAgIGNvbnN0IGIgPSBwdHNbKGkgKyAxKSAlIHB0cy5sZW5ndGhdO1xyXG4gICAgICBjb25zdCBkeCA9IGIueCAtIGEueCwgZHkgPSBiLnkgLSBhLnk7XHJcbiAgICAgIGNvbnN0IHNlZyA9IE1hdGguaHlwb3QoZHgsIGR5KTtcclxuICAgICAgc2FtcGxlcy5wdXNoKHsgeDogYS54LCB5OiBhLnksIHNlZywgbGVuQ3VtOiB0b3RhbCB9KTtcclxuICAgICAgdG90YWwgKz0gc2VnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgc2FtcGxlcywgbGVuZ3RoOiB0b3RhbCwgcG9pbnRzOiBwdHMgfTtcclxuICB9LCBbcGF0aFBvaW50cywgc3ZnUGF0aERhdGFdKTtcclxuXHJcbiAgZnVuY3Rpb24gcG9zT25QYXRoKHByb2dyZXNzKSB7XHJcbiAgICBpZiAoIXBhdGhTYW1wbGVzKSByZXR1cm4geyB4OiA1MDAsIHk6IDUwMCB9O1xyXG4gICAgLy8gTm9ybWFsaXplIHByb2dyZXNzIHRvIDAuLjFcclxuICAgIGNvbnN0IHAgPSAoKHByb2dyZXNzICUgMSkgKyAxKSAlIDE7XHJcbiAgICBjb25zdCB0b3RhbExlbiA9IHBhdGhTYW1wbGVzLmxlbmd0aCB8fCAxO1xyXG4gICAgY29uc3QgdGFyZ2V0TGVuID0gcCAqIHRvdGFsTGVuO1xyXG4gICAgY29uc3Qgc2FtcGxlcyA9IHBhdGhTYW1wbGVzLnNhbXBsZXM7XHJcbiAgICAvLyBCaW5hcnkgc2VhcmNoIGZvciBzZWdtZW50XHJcbiAgICBsZXQgbG8gPSAwLCBoaSA9IHNhbXBsZXMubGVuZ3RoIC0gMTtcclxuICAgIHdoaWxlIChsbyA8IGhpKSB7XHJcbiAgICAgIGNvbnN0IG1pZCA9IE1hdGguZmxvb3IoKGxvICsgaGkpIC8gMik7XHJcbiAgICAgIGlmIChzYW1wbGVzW21pZF0ubGVuQ3VtIDwgdGFyZ2V0TGVuKSBsbyA9IG1pZCArIDE7IGVsc2UgaGkgPSBtaWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpID0gTWF0aC5tYXgoMCwgbG8gLSAxKTtcclxuICAgIGNvbnN0IHMgPSBzYW1wbGVzW2ldO1xyXG4gICAgY29uc3QgbmV4dCA9IHNhbXBsZXNbKGkgKyAxKSAlIHNhbXBsZXMubGVuZ3RoXTtcclxuICAgIGNvbnN0IHNlZ0xlbiA9IChuZXh0LmxlbkN1bSAtIHMubGVuQ3VtKSB8fCBuZXh0LnNlZyB8fCAxO1xyXG4gICAgY29uc3QgdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsICh0YXJnZXRMZW4gLSBzLmxlbkN1bSkgLyBzZWdMZW4pKTtcclxuICAgIGNvbnN0IHggPSBzLnggKyAobmV4dC54IC0gcy54KSAqIHQ7XHJcbiAgICBjb25zdCB5ID0gcy55ICsgKG5leHQueSAtIHMueSkgKiB0O1xyXG4gICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gIH1cclxuXHJcbiAgLy8gTWFpbnRhaW4gdHJhaWxzIGFuZCBhbmltYXRlIChzaW1wbGUgU1ZHLWJhc2VkIHRyYWlscylcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjYXJzKSByZXR1cm47XHJcbiAgICAvLyB1cGRhdGUgdHJhaWxzUmVmIHdpdGggbGF0ZXN0IGNhciBwb3NpdGlvbnNcclxuICAgIGNhcnMuZm9yRWFjaChjID0+IHtcclxuICAgICAgY29uc3QgcG9zID0gcG9zT25QYXRoKGMucHJvZ3Jlc3MgfHwgMCk7XHJcbiAgICAgIGlmICghdHJhaWxzUmVmLmN1cnJlbnRbYy5pZF0pIHRyYWlsc1JlZi5jdXJyZW50W2MuaWRdID0gW107XHJcbiAgICAgIHRyYWlsc1JlZi5jdXJyZW50W2MuaWRdLnB1c2gocG9zKTtcclxuICAgICAgaWYgKHRyYWlsc1JlZi5jdXJyZW50W2MuaWRdLmxlbmd0aCA+IDQwKSB0cmFpbHNSZWYuY3VycmVudFtjLmlkXS5zaGlmdCgpO1xyXG4gICAgfSk7XHJcbiAgfSwgW2NhcnNdKTtcclxuXHJcbiAgLy8gVHJpZ2dlciByZS1yZW5kZXIgd2l0aCBSQUYgdG8gZ2V0IHNtb290aCB0cmFpbCBmYWRpbmdcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xyXG4gICAgZnVuY3Rpb24gdGljaygpIHtcclxuICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XHJcbiAgICAgIC8vIGRlY2F5IHRyYWlscyBhbHBoYSBieSBzaGlmdGluZyDigJQgaGFuZGxlZCBpbiByZW5kZXIgdmlhIGxlbmd0aFxyXG4gICAgICByYWZSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcclxuICAgIH1cclxuICAgIHJhZlJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xyXG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZSZWYuY3VycmVudCk7IH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBCdWlsZCBTVkcgcGF0aCBzdHJpbmcgZnJvbSBwb2ludHNcclxuICBmdW5jdGlvbiBidWlsZFN2Z1BhdGgoKSB7XHJcbiAgICBpZiAoIXBhdGhQb2ludHMgfHwgcGF0aFBvaW50cy5sZW5ndGggPT09IDApIHJldHVybiAnJztcclxuICAgIGNvbnN0IHB0cyA9IHBhdGhQb2ludHM7XHJcbiAgICBsZXQgZCA9IGBNICR7cHRzWzBdLnh9ICR7cHRzWzBdLnl9YDtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcHRzLmxlbmd0aDsgaSsrKSBkICs9IGAgTCAke3B0c1tpXS54fSAke3B0c1tpXS55fWA7XHJcbiAgICBkICs9ICcgWic7XHJcbiAgICByZXR1cm4gZDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHN2Z1BhdGggPSBidWlsZFN2Z1BhdGgoKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnNTAwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMDAgMTAwMFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfX0+XHJcbiAgICAgICAgey8qIFRyYWNrIHN1cmZhY2UgKi99XHJcbiAgICAgICAgPHBhdGggZD17c3ZnUGF0aH0gZmlsbD1cIiMyYTJhMmFcIiBzdHJva2U9XCIjNDQ0XCIgc3Ryb2tlV2lkdGg9XCI2MFwiIG9wYWNpdHk9XCIwLjNcIiAvPlxyXG4gICAgICAgIDxwYXRoIGQ9e3N2Z1BhdGh9IGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiIzY2NlwiIHN0cm9rZVdpZHRoPVwiMzBcIiAvPlxyXG4gICAgICAgIDxwYXRoIGQ9e3N2Z1BhdGh9IGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiIzg4OFwiIHN0cm9rZVdpZHRoPVwiMjVcIiAvPlxyXG4gICAgICAgIDxwYXRoIGQ9e3N2Z1BhdGh9IGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZlwiIHN0cm9rZVdpZHRoPVwiM1wiIHN0cm9rZURhc2hhcnJheT1cIjE1LDEwXCIgb3BhY2l0eT1cIjAuNlwiIC8+XHJcblxyXG4gICAgICAgIHsvKiB0cmFpbHMgKi99XHJcbiAgICAgICAge09iamVjdC5rZXlzKHRyYWlsc1JlZi5jdXJyZW50KS5tYXAoaWQgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdHJhaWwgPSB0cmFpbHNSZWYuY3VycmVudFtpZF0gfHwgW107XHJcbiAgICAgICAgICBpZiAodHJhaWwubGVuZ3RoIDwgMikgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICBjb25zdCBkID0gdHJhaWwubWFwKChwLCBpKSA9PiBgJHtpID09PSAwID8gJ00nIDogJ0wnfSAke3AueH0gJHtwLnl9YCkuam9pbignICcpO1xyXG4gICAgICAgICAgcmV0dXJuIDxwYXRoIGtleT17YHQtJHtpZH1gfSBkPXtkfSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmQ1NGRcIiBzdHJva2VXaWR0aD17Mn0gc3Ryb2tlT3BhY2l0eT17MC42fSBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgLz47XHJcbiAgICAgICAgfSl9XHJcblxyXG4gICAgICAgIHsvKiBjYXJzICovfVxyXG4gICAgICAgIHtjYXJzLm1hcChjID0+IHtcclxuICAgICAgICAgIGNvbnN0IHAgPSBwb3NPblBhdGgoYy5wcm9ncmVzcyB8fCAwKTtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxnIGtleT17Yy5pZH0+XHJcbiAgICAgICAgICAgICAgPGNpcmNsZSBjeD17cC54fSBjeT17cC55fSByPXs4fSBmaWxsPVwiI2ZmZDU0ZFwiIHN0cm9rZT1cIiMyMjJcIiBzdHJva2VXaWR0aD17MX0gLz5cclxuICAgICAgICAgICAgICA8dGV4dCB4PXtwLnggKyAxMn0geT17cC55ICsgNH0gZmlsbD1cIiNmZmZcIiBmb250U2l6ZT17MTJ9IGZvbnRXZWlnaHQ9XCJib2xkXCI+e2MubmFtZX08L3RleHQ+XHJcbiAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSl9XHJcbiAgICAgIDwvc3ZnPlxyXG5cclxuICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgcmlnaHQ6IDEyLCB0b3A6IDEyLCB3aWR0aDogMjgwLCBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjYpJywgY29sb3I6ICcjZmZmJywgcGFkZGluZzogMTAsIGJvcmRlclJhZGl1czogNiB9fT5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJywgbWFyZ2luQm90dG9tOiA2IH19Pnt0cmFja0lkLnRvVXBwZXJDYXNlKCl9IOKAlCBMaXZlPC9kaXY+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTMsIG9wYWNpdHk6IDAuOSB9fT5XUzoge2lzQ29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJ308L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogOCB9fT5cclxuICAgICAgICAgIHtjYXJzLnNsaWNlKDAsIDgpLm1hcChjID0+IChcclxuICAgICAgICAgICAgPGRpdiBrZXk9e2MuaWR9IHN0eWxlPXt7IHBhZGRpbmc6ICc2cHggMCcsIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDQpJyB9fT5cclxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICc2MDAnIH19PntjLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGNvbG9yOiAnI2RkZCcgfX0+TGFwIHtjLmxhcH0g4oCiIHtjLnNwZWVkfSBrbS9oIOKAoiBnYXAge2MuZ2FwfXM8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZU1lbW8iLCJ1c2VTb2NrZXQiLCJUcmFja0xpdmUiLCJ0cmFja0lkIiwicmFjZUlkIiwibGF0ZXN0VXBkYXRlIiwidXBkYXRlcyIsImlzQ29ubmVjdGVkIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1RFTEVNRVRSWV9VUkwiLCJjb29yZHMiLCJzZXRDb29yZHMiLCJjYXJzIiwic2V0Q2FycyIsInRyYWlsc1JlZiIsInJhZlJlZiIsIm1vdW50ZWQiLCJmZXRjaCIsInRoZW4iLCJyIiwianNvbiIsImRhdGEiLCJjb29yZGluYXRlcyIsImNhdGNoIiwic3ZnUGF0aERhdGEiLCJzZXRTdmdQYXRoRGF0YSIsInN2Z1VybCIsIm9rIiwiRXJyb3IiLCJ0ZXh0IiwiZG9jIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwicGF0aEVsIiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInN2Z0VsIiwiaW5uZXJIVE1MIiwiZSIsImluY29taW5nIiwibGVuZ3RoIiwibGFzdCIsIkFycmF5IiwiaXNBcnJheSIsIm5vcm1hbGl6ZWQiLCJtYXAiLCJjIiwiaWQiLCJ2ZWhpY2xlX2lkIiwidmVoaWNsZV9udW1iZXIiLCJ2ZWhpY2xlTnVtYmVyIiwiU3RyaW5nIiwiTWF0aCIsInJhbmRvbSIsIm5hbWUiLCJ2ZWhpY2xlSWQiLCJwcm9ncmVzcyIsImxhcF9wcm9ncmVzcyIsInByb2dyZXNzX3BjdCIsImxhcCIsImxhcF9udW1iZXIiLCJzcGVlZCIsImtwaCIsImttaCIsImdhcCIsInBhdGhQb2ludHMiLCJwYWQiLCJ2dyIsInZoIiwic3giLCJzeSIsInAiLCJ4IiwieSIsInBhdGhTYW1wbGVzIiwiZG9jdW1lbnQiLCJucyIsInRtcFBhdGgiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJ0b3RhbExlbiIsImdldFRvdGFsTGVuZ3RoIiwic2FtcGxlcyIsInNhbXBsZUNvdW50IiwibWF4IiwiZmxvb3IiLCJjdW0iLCJwcmV2IiwiZ2V0UG9pbnRBdExlbmd0aCIsInB1c2giLCJsZW5DdW0iLCJzZWciLCJpIiwicG9zIiwiZHgiLCJkeSIsImh5cG90IiwicG9pbnRzIiwicyIsInB0cyIsInRvdGFsIiwiYSIsImIiLCJwb3NPblBhdGgiLCJ0YXJnZXRMZW4iLCJsbyIsImhpIiwibWlkIiwibmV4dCIsInNlZ0xlbiIsInQiLCJtaW4iLCJmb3JFYWNoIiwiY3VycmVudCIsInNoaWZ0IiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiYnVpbGRTdmdQYXRoIiwiZCIsInN2Z1BhdGgiLCJkaXYiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJzdmciLCJ2aWV3Qm94IiwicHJlc2VydmVBc3BlY3RSYXRpbyIsInBhdGgiLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJvcGFjaXR5Iiwic3Ryb2tlRGFzaGFycmF5IiwiT2JqZWN0Iiwia2V5cyIsInRyYWlsIiwiam9pbiIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJnIiwiY2lyY2xlIiwiY3giLCJjeSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInJpZ2h0IiwidG9wIiwiYmFja2dyb3VuZCIsImNvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsIm1hcmdpbkJvdHRvbSIsInRvVXBwZXJDYXNlIiwibWFyZ2luVG9wIiwic2xpY2UiLCJib3JkZXJCb3R0b20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/tracks/TrackLive.jsx\n");

/***/ }),

/***/ "./hooks/useSocket.js":
/*!****************************!*\
  !*** ./hooks/useSocket.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSocket: () => (/* binding */ useSocket)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_1__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n/**\r\n * WebSocket hook with auto-reconnect and error recovery\r\n */ function useSocket(raceId, url = \"http://localhost:3001\", options = {}) {\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [updates, setUpdates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [latestUpdate, setLatestUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const socketRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const reconnectTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const reconnectAttempts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const maxReconnectAttempts = options.maxReconnectAttempts || 10;\n    const reconnectDelay = options.reconnectDelay || 3000;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Initialize socket\n        socketRef.current = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_1__.io)(url, {\n            transports: [\n                \"websocket\",\n                \"polling\"\n            ],\n            reconnection: true,\n            reconnectionDelay: reconnectDelay,\n            reconnectionAttempts: maxReconnectAttempts,\n            timeout: 5000,\n            ...options\n        });\n        const socket = socketRef.current;\n        // Connection handlers\n        socket.on(\"connect\", ()=>{\n            console.log(\"[WebSocket] Connected\");\n            setIsConnected(true);\n            setError(null);\n            reconnectAttempts.current = 0;\n            // Auto-subscribe to race if raceId provided\n            if (raceId) {\n                socket.emit(\"subscribe-race\", raceId);\n            }\n        });\n        socket.on(\"disconnect\", (reason)=>{\n            console.log(\"[WebSocket] Disconnected:\", reason);\n            setIsConnected(false);\n            // Auto-reconnect if not manual disconnect\n            if (reason === \"io server disconnect\") {\n                // Server disconnected, reconnect manually\n                socket.connect();\n            }\n        });\n        socket.on(\"connect_error\", (err)=>{\n            console.error(\"[WebSocket] Connection error:\", err.message);\n            setError(err.message);\n            setIsConnected(false);\n            // Enhanced exponential backoff for reconnection\n            reconnectAttempts.current += 1;\n            if (reconnectAttempts.current < maxReconnectAttempts) {\n                const delay = Math.min(reconnectDelay * Math.pow(2, reconnectAttempts.current - 1), 30000 // Max 30 seconds\n                );\n                console.log(`[WebSocket] Reconnecting in ${delay}ms (attempt ${reconnectAttempts.current}/${maxReconnectAttempts})...`);\n                reconnectTimeoutRef.current = setTimeout(()=>{\n                    console.log(\"[WebSocket] Attempting reconnection...\");\n                    socket.connect();\n                }, delay);\n            } else {\n                console.error(`[WebSocket] Max reconnection attempts (${maxReconnectAttempts}) reached. Manual intervention required.`);\n                setError(`Connection failed after ${maxReconnectAttempts} attempts. Please refresh the page.`);\n            }\n        });\n        // Enhanced reconnection handling\n        socket.on(\"reconnect\", (attemptNumber)=>{\n            console.log(`[WebSocket] Reconnected after ${attemptNumber} attempts`);\n            setIsConnected(true);\n            setError(null);\n            reconnectAttempts.current = 0;\n            // Re-subscribe to race if needed\n            if (raceId) {\n                socket.emit(\"subscribe-race\", raceId);\n            }\n        });\n        socket.on(\"reconnect_attempt\", (attemptNumber)=>{\n            console.log(`[WebSocket] Reconnection attempt ${attemptNumber}/${maxReconnectAttempts}`);\n        });\n        socket.on(\"reconnect_failed\", ()=>{\n            console.error(\"[WebSocket] Reconnection failed after all attempts\");\n            setError(\"Failed to reconnect. Please refresh the page.\");\n            setIsConnected(false);\n        });\n        // Message handlers\n        socket.on(\"race-update\", (data)=>{\n            setUpdates((prev)=>[\n                    ...prev,\n                    data\n                ].slice(-100)); // Keep last 100 updates\n            setLatestUpdate(data);\n        });\n        socket.on(\"driver-twin-update\", (data)=>{\n            setLatestUpdate((prev)=>({\n                    ...prev,\n                    driverTwin: data\n                }));\n        });\n        socket.on(\"error\", (err)=>{\n            console.error(\"[WebSocket] Error:\", err);\n            setError(err.message || \"Unknown error\");\n        });\n        // Cleanup\n        return ()=>{\n            if (reconnectTimeoutRef.current) {\n                clearTimeout(reconnectTimeoutRef.current);\n            }\n            if (socket && raceId) {\n                socket.emit(\"unsubscribe-race\", raceId);\n            }\n            if (socket) {\n                socket.disconnect();\n            }\n        };\n    }, [\n        url,\n        raceId\n    ]);\n    // Subscribe to race\n    const subscribeRace = (raceId)=>{\n        if (socketRef.current && isConnected) {\n            socketRef.current.emit(\"subscribe-race\", raceId);\n        }\n    };\n    // Unsubscribe from race\n    const unsubscribeRace = (raceId)=>{\n        if (socketRef.current && isConnected) {\n            socketRef.current.emit(\"unsubscribe-race\", raceId);\n        }\n    };\n    // Request driver metrics\n    const requestMetrics = (driverId, raceId)=>{\n        if (socketRef.current && isConnected) {\n            socketRef.current.emit(\"request-metrics\", {\n                driverId,\n                raceId\n            });\n        }\n    };\n    // Manual reconnect\n    const reconnect = ()=>{\n        if (socketRef.current) {\n            reconnectAttempts.current = 0;\n            socketRef.current.connect();\n        }\n    };\n    return {\n        socket: socketRef.current,\n        isConnected,\n        updates: updates || [],\n        latestUpdate,\n        error,\n        subscribeRace,\n        unsubscribeRace,\n        requestMetrics,\n        reconnect\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ3BCLE1BQU0yQyxnQkFBZ0IsQ0FBQzNDO1FBQ3JCLElBQUlXLFVBQVVLLE9BQU8sSUFBSWIsYUFBYTtZQUNwQ1EsVUFBVUssT0FBTyxDQUFDVSxJQUFJLENBQUMsa0JBQWtCMUI7UUFDM0M7SUFDRjtJQUVBLHdCQUF3QjtJQUN4QixNQUFNNEMsa0JBQWtCLENBQUM1QztRQUN2QixJQUFJVyxVQUFVSyxPQUFPLElBQUliLGFBQWE7WUFDcENRLFVBQVVLLE9BQU8sQ0FBQ1UsSUFBSSxDQUFDLG9CQUFvQjFCO1FBQzdDO0lBQ0Y7SUFFQSx5QkFBeUI7SUFDekIsTUFBTTZDLGlCQUFpQixDQUFDQyxVQUFVOUM7UUFDaEMsSUFBSVcsVUFBVUssT0FBTyxJQUFJYixhQUFhO1lBQ3BDUSxVQUFVSyxPQUFPLENBQUNVLElBQUksQ0FBQyxtQkFBbUI7Z0JBQUVvQjtnQkFBVTlDO1lBQU87UUFDL0Q7SUFDRjtJQUVBLG1CQUFtQjtJQUNuQixNQUFNK0MsWUFBWTtRQUNoQixJQUFJcEMsVUFBVUssT0FBTyxFQUFFO1lBQ3JCSCxrQkFBa0JHLE9BQU8sR0FBRztZQUM1QkwsVUFBVUssT0FBTyxDQUFDWSxPQUFPO1FBQzNCO0lBQ0Y7SUFFQSxPQUFPO1FBQ0xOLFFBQVFYLFVBQVVLLE9BQU87UUFDekJiO1FBQ0FFLFNBQVNBLFdBQVcsRUFBRTtRQUN0QkU7UUFDQUU7UUFDQWtDO1FBQ0FDO1FBQ0FDO1FBQ0FFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyLXJhY2UtZ3VhcmRpYW4tZnJvbnRlbmQvLi9ob29rcy91c2VTb2NrZXQuanM/OTk4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGlvIH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XHJcblxyXG4vKipcclxuICogV2ViU29ja2V0IGhvb2sgd2l0aCBhdXRvLXJlY29ubmVjdCBhbmQgZXJyb3IgcmVjb3ZlcnlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VTb2NrZXQocmFjZUlkLCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAxJywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgY29uc3QgW2lzQ29ubmVjdGVkLCBzZXRJc0Nvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3VwZGF0ZXMsIHNldFVwZGF0ZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtsYXRlc3RVcGRhdGUsIHNldExhdGVzdFVwZGF0ZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IHNvY2tldFJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCByZWNvbm5lY3RUaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IHJlY29ubmVjdEF0dGVtcHRzID0gdXNlUmVmKDApO1xyXG4gIGNvbnN0IG1heFJlY29ubmVjdEF0dGVtcHRzID0gb3B0aW9ucy5tYXhSZWNvbm5lY3RBdHRlbXB0cyB8fCAxMDtcclxuICBjb25zdCByZWNvbm5lY3REZWxheSA9IG9wdGlvbnMucmVjb25uZWN0RGVsYXkgfHwgMzAwMDtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEluaXRpYWxpemUgc29ja2V0XHJcbiAgICBzb2NrZXRSZWYuY3VycmVudCA9IGlvKHVybCwge1xyXG4gICAgICB0cmFuc3BvcnRzOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXHJcbiAgICAgIHJlY29ubmVjdGlvbjogdHJ1ZSxcclxuICAgICAgcmVjb25uZWN0aW9uRGVsYXk6IHJlY29ubmVjdERlbGF5LFxyXG4gICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogbWF4UmVjb25uZWN0QXR0ZW1wdHMsXHJcbiAgICAgIHRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHNvY2tldCA9IHNvY2tldFJlZi5jdXJyZW50O1xyXG5cclxuICAgIC8vIENvbm5lY3Rpb24gaGFuZGxlcnNcclxuICAgIHNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1tXZWJTb2NrZXRdIENvbm5lY3RlZCcpO1xyXG4gICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgLy8gQXV0by1zdWJzY3JpYmUgdG8gcmFjZSBpZiByYWNlSWQgcHJvdmlkZWRcclxuICAgICAgaWYgKHJhY2VJZCkge1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdzdWJzY3JpYmUtcmFjZScsIHJhY2VJZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1tXZWJTb2NrZXRdIERpc2Nvbm5lY3RlZDonLCByZWFzb24pO1xyXG4gICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBdXRvLXJlY29ubmVjdCBpZiBub3QgbWFudWFsIGRpc2Nvbm5lY3RcclxuICAgICAgaWYgKHJlYXNvbiA9PT0gJ2lvIHNlcnZlciBkaXNjb25uZWN0Jykge1xyXG4gICAgICAgIC8vIFNlcnZlciBkaXNjb25uZWN0ZWQsIHJlY29ubmVjdCBtYW51YWxseVxyXG4gICAgICAgIHNvY2tldC5jb25uZWN0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1dlYlNvY2tldF0gQ29ubmVjdGlvbiBlcnJvcjonLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcclxuICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xyXG4gICAgICBcclxuICAgICAgLy8gRW5oYW5jZWQgZXhwb25lbnRpYWwgYmFja29mZiBmb3IgcmVjb25uZWN0aW9uXHJcbiAgICAgIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgKz0gMTtcclxuICAgICAgaWYgKHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgPCBtYXhSZWNvbm5lY3RBdHRlbXB0cykge1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5taW4oXHJcbiAgICAgICAgICByZWNvbm5lY3REZWxheSAqIE1hdGgucG93KDIsIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgLSAxKSxcclxuICAgICAgICAgIDMwMDAwIC8vIE1heCAzMCBzZWNvbmRzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgW1dlYlNvY2tldF0gUmVjb25uZWN0aW5nIGluICR7ZGVsYXl9bXMgKGF0dGVtcHQgJHtyZWNvbm5lY3RBdHRlbXB0cy5jdXJyZW50fS8ke21heFJlY29ubmVjdEF0dGVtcHRzfSkuLi5gKTtcclxuICAgICAgICBcclxuICAgICAgICByZWNvbm5lY3RUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbV2ViU29ja2V0XSBBdHRlbXB0aW5nIHJlY29ubmVjdGlvbi4uLicpO1xyXG4gICAgICAgICAgc29ja2V0LmNvbm5lY3QoKTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW1dlYlNvY2tldF0gTWF4IHJlY29ubmVjdGlvbiBhdHRlbXB0cyAoJHttYXhSZWNvbm5lY3RBdHRlbXB0c30pIHJlYWNoZWQuIE1hbnVhbCBpbnRlcnZlbnRpb24gcmVxdWlyZWQuYCk7XHJcbiAgICAgICAgc2V0RXJyb3IoYENvbm5lY3Rpb24gZmFpbGVkIGFmdGVyICR7bWF4UmVjb25uZWN0QXR0ZW1wdHN9IGF0dGVtcHRzLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZS5gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEVuaGFuY2VkIHJlY29ubmVjdGlvbiBoYW5kbGluZ1xyXG4gICAgc29ja2V0Lm9uKCdyZWNvbm5lY3QnLCAoYXR0ZW1wdE51bWJlcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhgW1dlYlNvY2tldF0gUmVjb25uZWN0ZWQgYWZ0ZXIgJHthdHRlbXB0TnVtYmVyfSBhdHRlbXB0c2ApO1xyXG4gICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgLy8gUmUtc3Vic2NyaWJlIHRvIHJhY2UgaWYgbmVlZGVkXHJcbiAgICAgIGlmIChyYWNlSWQpIHtcclxuICAgICAgICBzb2NrZXQuZW1pdCgnc3Vic2NyaWJlLXJhY2UnLCByYWNlSWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgc29ja2V0Lm9uKCdyZWNvbm5lY3RfYXR0ZW1wdCcsIChhdHRlbXB0TnVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbV2ViU29ja2V0XSBSZWNvbm5lY3Rpb24gYXR0ZW1wdCAke2F0dGVtcHROdW1iZXJ9LyR7bWF4UmVjb25uZWN0QXR0ZW1wdHN9YCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgc29ja2V0Lm9uKCdyZWNvbm5lY3RfZmFpbGVkJywgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbV2ViU29ja2V0XSBSZWNvbm5lY3Rpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cycpO1xyXG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHJlY29ubmVjdC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UuJyk7XHJcbiAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE1lc3NhZ2UgaGFuZGxlcnNcclxuICAgIHNvY2tldC5vbigncmFjZS11cGRhdGUnLCAoZGF0YSkgPT4ge1xyXG4gICAgICBzZXRVcGRhdGVzKHByZXYgPT4gWy4uLnByZXYsIGRhdGFdLnNsaWNlKC0xMDApKTsgLy8gS2VlcCBsYXN0IDEwMCB1cGRhdGVzXHJcbiAgICAgIHNldExhdGVzdFVwZGF0ZShkYXRhKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNvY2tldC5vbignZHJpdmVyLXR3aW4tdXBkYXRlJywgKGRhdGEpID0+IHtcclxuICAgICAgc2V0TGF0ZXN0VXBkYXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZHJpdmVyVHdpbjogZGF0YSB9KSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzb2NrZXQub24oJ2Vycm9yJywgKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbV2ViU29ja2V0XSBFcnJvcjonLCBlcnIpO1xyXG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ2xlYW51cFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHJlY29ubmVjdFRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzb2NrZXQgJiYgcmFjZUlkKSB7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoJ3Vuc3Vic2NyaWJlLXJhY2UnLCByYWNlSWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzb2NrZXQpIHtcclxuICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFt1cmwsIHJhY2VJZF0pO1xyXG5cclxuICAvLyBTdWJzY3JpYmUgdG8gcmFjZVxyXG4gIGNvbnN0IHN1YnNjcmliZVJhY2UgPSAocmFjZUlkKSA9PiB7XHJcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQgJiYgaXNDb25uZWN0ZWQpIHtcclxuICAgICAgc29ja2V0UmVmLmN1cnJlbnQuZW1pdCgnc3Vic2NyaWJlLXJhY2UnLCByYWNlSWQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFVuc3Vic2NyaWJlIGZyb20gcmFjZVxyXG4gIGNvbnN0IHVuc3Vic2NyaWJlUmFjZSA9IChyYWNlSWQpID0+IHtcclxuICAgIGlmIChzb2NrZXRSZWYuY3VycmVudCAmJiBpc0Nvbm5lY3RlZCkge1xyXG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5lbWl0KCd1bnN1YnNjcmliZS1yYWNlJywgcmFjZUlkKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBSZXF1ZXN0IGRyaXZlciBtZXRyaWNzXHJcbiAgY29uc3QgcmVxdWVzdE1ldHJpY3MgPSAoZHJpdmVySWQsIHJhY2VJZCkgPT4ge1xyXG4gICAgaWYgKHNvY2tldFJlZi5jdXJyZW50ICYmIGlzQ29ubmVjdGVkKSB7XHJcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoJ3JlcXVlc3QtbWV0cmljcycsIHsgZHJpdmVySWQsIHJhY2VJZCB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBNYW51YWwgcmVjb25uZWN0XHJcbiAgY29uc3QgcmVjb25uZWN0ID0gKCkgPT4ge1xyXG4gICAgaWYgKHNvY2tldFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgPSAwO1xyXG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5jb25uZWN0KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHNvY2tldDogc29ja2V0UmVmLmN1cnJlbnQsXHJcbiAgICBpc0Nvbm5lY3RlZCxcclxuICAgIHVwZGF0ZXM6IHVwZGF0ZXMgfHwgW10sXHJcbiAgICBsYXRlc3RVcGRhdGUsXHJcbiAgICBlcnJvcixcclxuICAgIHN1YnNjcmliZVJhY2UsXHJcbiAgICB1bnN1YnNjcmliZVJhY2UsXHJcbiAgICByZXF1ZXN0TWV0cmljcyxcclxuICAgIHJlY29ubmVjdFxyXG4gIH07XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImlvIiwidXNlU29ja2V0IiwicmFjZUlkIiwidXJsIiwib3B0aW9ucyIsImlzQ29ubmVjdGVkIiwic2V0SXNDb25uZWN0ZWQiLCJ1cGRhdGVzIiwic2V0VXBkYXRlcyIsImxhdGVzdFVwZGF0ZSIsInNldExhdGVzdFVwZGF0ZSIsImVycm9yIiwic2V0RXJyb3IiLCJzb2NrZXRSZWYiLCJyZWNvbm5lY3RUaW1lb3V0UmVmIiwicmVjb25uZWN0QXR0ZW1wdHMiLCJtYXhSZWNvbm5lY3RBdHRlbXB0cyIsInJlY29ubmVjdERlbGF5IiwiY3VycmVudCIsInRyYW5zcG9ydHMiLCJyZWNvbm5lY3Rpb24iLCJyZWNvbm5lY3Rpb25EZWxheSIsInJlY29ubmVjdGlvbkF0dGVtcHRzIiwidGltZW91dCIsInNvY2tldCIsIm9uIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJyZWFzb24iLCJjb25uZWN0IiwiZXJyIiwibWVzc2FnZSIsImRlbGF5IiwiTWF0aCIsIm1pbiIsInBvdyIsInNldFRpbWVvdXQiLCJhdHRlbXB0TnVtYmVyIiwiZGF0YSIsInByZXYiLCJzbGljZSIsImRyaXZlclR3aW4iLCJjbGVhclRpbWVvdXQiLCJkaXNjb25uZWN0Iiwic3Vic2NyaWJlUmFjZSIsInVuc3Vic2NyaWJlUmFjZSIsInJlcXVlc3RNZXRyaWNzIiwiZHJpdmVySWQiLCJyZWNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useSocket.js\n");

/***/ })

};
;